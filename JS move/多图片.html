<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>多图片</title>
    <script src="js/move.js"></script>
    <script>
        /*var color='blue';
        function a(){
            if(color==='blue'){
                color='red';
            }else{
                color='blue';
            }
        }
        a();
        alert("Color is now "+color);*/

        window.onload=function(){
            var oBtn=document.getElementById("btn");
            (function(){
                var a=function(){
                    alert(this.id);
                }
                /*oBtn.onclick=function(e){
                    console.log(e.cancelBubble);
                }*/
                oBtn.addEventListener('click',a,false);
                oBtn.removeEventListener("click",a,false);
            })();
            (function () {
                var handler = function (e) {
                    switch (e.type) {
                        case "click":
                        function a() {
                            alert("clicked");
                        }
                            a();
                            break;
                        case "mouseover":
                            e.target.style.background = 'red';
                            break;
                        case "mouseout":
                            e.target.style.background = '';
                            break;
                    }
                    ;
                }
                oBtn.onclick = handler;
                oBtn.onmouseover = handler;
                oBtn.onmouseout = handler;
            })();
        }
    </script>
    <style>
        *{padding:0;margin:0;}
        ul{
            width:330px;
            margin:100px auto 0;
            position: relative;
        }
        li{
            list-style: none;
            width:100px;
            height: 100px;
            background: red;
            margin:10px 0 0 10px;
            float:left;
        }
    </style>
</head>
<body>
<input type="button" value="Clicked me!" id="btn" />
<ul id="ul1">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
</ul>
<script>
    window.onload=function(){
        var aUl=document.getElementById("ul1");
        var aLi=aUl.getElementsByTagName("li");
        var arr=[];
        var zIndex=1;
        for (var i=0;i<aLi.length;i++){
            arr.push({left:aLi[i].offsetLeft,top:aLi[i].offsetTop});
            //console.log(arr[i].left)
        }

        for (var i=0;i<aLi.length;i++){
            aLi[i].index=i;
            aLi[i].style.left=arr[i].left+'px';
            aLi[i].style.top=arr[i].top+'px';
            aLi[i].style.position='absolute';
            aLi[i].style.margin='0px';

            aLi[i].onmouseover=function(){
                this.style.background='green';
                this.style.zIndex=zIndex++;
                startMove(this,{
                    width:200,
                    height:200,
                    top:arr[this.index].top-50,
                    left:arr[this.index].left-50
                })
            }
            aLi[i].onmouseout=function(){
                startMove(this,{
                    width:100,
                    height:100,
                    top:arr[this.index].top,
                    left:arr[this.index].left,
                })
            }
        }
    }
</script>
</body>
</html>